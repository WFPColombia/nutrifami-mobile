<style type="text/css">
.unidad .leccion-avance-fixed::after {
    background-image: url("../assets/{{unidad.imagen.nombre}}");
}
</style>
<div class='unidad'>
    <header ng-show="scrolled">
        <div class="leccion-avance-fixed">
            <div class="row">
                <div class="col leccion-avance-cerrar">
                    <button ng-click="salirUnidad()" class="icon ion-close-round" aria-hidden="true" ion-ripple></button>
                </div>
                <div class="col col-80 leccion-avance-progreso">
                    <p class="instruccion" ion-ripple><i class="icon ion-volume-high"></i> {{ unidad.instruccion.texto}}</p>
                    <p class="titulo" ion-ripple><i class="icon ion-volume-high"></i> {{ unidad.titulo.texto}}</p>
                </div>
            </div>
        </div>
    </header>
</div>
<ion-scroll style="height: 100%" on-scroll="getScrollPosition()">
    <div class='unidad'>
        <ng-include src="'views/template/leccionAvance.tpl.html'"></ng-include>
        <div class="unidad-tipo" ng-click="playAudio('tipo')" ion-ripple>
            <img ng-src="img/icons/{{unidad.tipo.icono}}" />
            <div class="unidad-tipo-descripcion">
                <div class="sonido">
                    <button class="icon ion-volume-high" aria-hidden="true"></button>
                </div>
                <p> {{ unidad.instruccion.texto}}</p>
            </div>
        </div>
        <div class="unidad-descripcion" ng-hide="scrolled">
            <div class="row">
                <div class="col">
                    <p class="unidad-instruccion" ng-click="playAudio('titulo')" ion-ripple>
                        <button class="icon ion-volume-high" aria-hidden="true"></button> {{ unidad.titulo.texto}}
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img ng-src="assets/{{unidad.imagen.nombre}}" ng-hide="{{unidad.imagen === undefined|| unidad.imagen.nombre === ''}}" />
                </div>
            </div>
        </div>
        <div class="opciones" ng-hide="unidad.tipo.id == 2" ng-class=" scrolled ? 'scrolled':''">
            <opcion-unidad-info ng-repeat="opcion in unidad.opciones" info="opcion" index="{{$index}}" colspan="unidad.colspan" ng-click="validar()"></opcion-unidad-info>
        </div>
        <div class="opciones" ng-show="unidad.tipo.id == '2'">
            <opcion-pareja-unidad-info ng-repeat="opcion in unidad.opciones" info="opcion" index="{{$index}}"></opcion-pareja-unidad-info>
        </div>
    </div>
</ion-scroll>
<div class="bar bar-footer calificar" ng-class=" botonCalificar ? 'habilitado' : ''">
    <button ng-click="calificarUnidad()" ng-disabled="!botonCalificar" ion-ripple>Calificar</button>
</div>
<div class="mostrar-tip">
    <div ion-ripple ng-click="showConfirm()">
        <span class="icon ion-plus-round" aria-hidden="true"></span>
    </div>
</div>
